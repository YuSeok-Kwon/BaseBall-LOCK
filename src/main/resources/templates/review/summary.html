<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/reviewDefault}">

<th:block layout:fragment="contents">
<div class="container my-5 rounded p-4"
     th:style="'max-width: 1200px; background-color: #fff; border: 2px solid ' + ${teamColor}">

  	<!-- 요약이 있을 경우 -->
	<div th:if="${summary != null}" 
	     class="card border-0 shadow-sm mb-5" 
	     th:style="'border: 2px solid ' + ${teamColor}">
	
	  <div class="card-header text-white fw-bold fs-5 text-center"
	       th:style="'background-color:' + ${teamColor}">
	    [[${summary.weekStartDate}]] ~ [[${summary.weekEndDate}]] 주간 리뷰 요약
	  </div>
	
	  <div class="card-body bg-white fs-5 text-dark">
	
	    <div class="row">
	      <div class="col-md-6 mb-3">
	        <strong>🎯 주간 성적:</strong> 
	        <span th:text="${summary.recordSummary}">1승 6패</span>
	      </div>
		<div class="col-md-6 mb-3">
		  <strong>⭐ 평균 별점:</strong> 
		  <span th:text="${#numbers.formatDecimal(summary.averageRating, 1, 1) + '점'}">3.6점</span>
		</div>
	
	      <div class="col-md-6 mb-3">
	        <strong>🏅 Best Player:</strong> 
	        <span th:text="${summary.bestMoment}">오명진 (2회), 김택연 (1회)</span>
	      </div>
	      <div class="col-md-6 mb-3">
	        <strong>💀 Worst Player:</strong> 
	        <span th:text="${summary.worstMoment}">정대현 (3회), 박태영 (1회)</span>
	      </div>
	    </div>
	
	    <hr class="my-3">
	
	    <div class="mb-3">
	      <strong>🧠 감정 흐름 요약:</strong>
	      <div class="mt-2 text-secondary" style="white-space: pre-line;" 
	           th:text="${summary.feelingSummary}">
	        경기 내내 아쉬움과 허탈함이 이어졌습니다...
	      </div>
	    </div>
	
	    <div class="mb-3">
	      <strong>💬 요약 멘트:</strong>
	      <div class="mt-2" th:utext="${summary.reviewText}">이번 주는 다시 기운을 차려야 할 시기입니다.</div>
	    </div>
	
	    <div class="mb-2">
	      <strong>🏷️ 키워드:</strong>
	      <div class="mt-2 text-primary fw-semibold" th:text="${summary.keywords}">
	        절망, 희망, 전환점
	      </div>
	    </div>
	
	  </div>
	</div>

  <!-- ❗ 요약이 없을 경우 -->
  <div th:if="${summary == null}" class="text-center p-5">
    <h4 class="mb-3">이번 주 리뷰 요약이 없습니다.</h4>
    <p>아직 작성된 리뷰가 없거나 요약이 생성되지 않았습니다.</p>
    <a href="/review/calendar-view" class="btn btn-outline-secondary mt-3">리뷰 캘린더로 이동</a>
  </div>

</div>
</th:block>
</html>